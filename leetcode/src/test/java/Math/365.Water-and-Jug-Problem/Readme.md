### 365.Water-and-Jug-Problem

一种比较容易理解的方法是，虚拟出一个第三方的水罐，容积就是x+y。对于这个第三方水罐，我们定义两个操作：1.成功地加入x升水或者y升水，保证不溢出。2.成功地取出x升水或者y升水，注意需要保证水箱中有对应足量的水能够满足这个操作。

接下来我们将上面两个操作与本题的真实情景相对应。

1.“成功地（往第三方水罐）加入x升水或者y升水”，对应的是在第一个水罐或者第二个水罐灌满水。如果那个水罐已经有部分水了，那就先将其移到另外一个水罐中。注意的是，我们保证“成功地（往第三方水罐）加入x升水或者y升水”，说明此操作之前留存的水不会导致这次操作有溢出，否则就不算是成功的操作，因此在本题的场景中，“将某个水罐存留的水移到另外一个水罐”这个操作肯定是合法的。

2.“成功地（从第三方水罐）取出x升水或者y升水”，对应的是将第一个水罐或者第二个水罐在充满的情况下放空。如果那个水罐之前没有充满，那就先将另外一个水罐里存留的水转移至其充满。注意的是，我们保证“成功地（从第三方水罐）取出x升水或者y升水”，说明此操作之前留存的水足够这次操作，否则就不算是成功的操作，因此在本题的场景中，“先将另外一个水罐里存留的水转移至其充满”这个操作肯定是合法的。

至此，我们做一个暂时的小结：如果在虚拟场景中，通过上述两个操作能够在第三方水罐中得到z升的水，那么同样我们也一定能够在本题的真实场景中，得到z升的水。只要将相应的操作对应起来即可。

然后，我们需要反思一下，有什么操作是在真实场景中可以做到的，但是在虚拟场景中做不到的呢？也就是说，会不会有什么操作，使得在真实场景下得到z，但是在虚拟场景下得不到z呢？或许有可能。比如，在真实场景中，第一个水罐非满状态但存有a，我们此时将第一个水罐放空，就得到了“放空a升水”的操作，而这个操作似乎是在虚拟场景中无法实现的。但是，注意，“放空a升水”的前提是水罐里已经有了a升水，而这个恰恰又可以考虑成一个递归问题。所以，“放空a升水”并不是一个独立的操作，而也是基于之前两个基本操作得到的中间产物。

所以，我们的一个结论是，真实场景下，并没有什么特别的操作是虚拟场景中两个基本操作所实现不了的。所以这个虚拟场景和真实场景是完全等价的。

既然如此，我们就考虑最初的那个虚拟场景。这个非常好理解，就是判断是否有一系列的+x/-x/+y/-y的操作，使得最后的结果是z。也就是判断mx+ny=z是否有整数解。这个有解的条件显然就是z必须是gcd(x,y)的倍数。


[Leetcode Link](https://leetcode.com/problems/water-and-jug-problem)